{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { useSession } from 'next-auth/client'; // import { PrismaClient } from '@prisma/client';\n\nimport prisma from 'src/lib/prisma';\nimport Modal from '@material-ui/core/Modal';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box } from '@material-ui/core';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { useRouter } from 'next/router';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    width: '50%',\n    height: '30%',\n    textAlign: 'center'\n  },\n  formControl: {\n    backgroundColor: theme.palette.background.paper,\n    margin: theme.spacing(1),\n    minWidth: 220\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  }\n}));\n\nfunction selectPerfil({\n  user = 'leandro'\n}) {\n  const classes = useStyles();\n  const [session] = useSession();\n  const [open, setOpen] = React.useState(false);\n  const [perfilUser, setPerfilUser] = React.useState('');\n  const router = useRouter();\n  let secao = [{\n    email: ''\n  }];\n\n  const handleClose = () => {};\n\n  const handleChange = event => {\n    setPerfilUser(event.target.value);\n    setOpen(false);\n  };\n\n  if (session) {\n    var _secao;\n\n    secao = user.filter(val => val.email === session.user.email);\n\n    if (secao.length === 0) {\n      return /*#__PURE__*/_jsxs(Box, {\n        mt: 5,\n        children: [/*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Box, {\n          mt: 5,\n          className: classes.root,\n          children: \"Ocorreu um Erro ao fazer o Login\"\n        }), /*#__PURE__*/_jsxs(Box, {\n          className: classes.root,\n          children: [\"email: \", session.user.email]\n        }), /*#__PURE__*/_jsx(Box, {\n          className: classes.root,\n          children: \"n\\xE3o foi cadastrado\"\n        })]\n      });\n    }\n\n    const body = /*#__PURE__*/_jsxs(FormControl, {\n      variant: \"outlined\",\n      className: classes.formControl,\n      children: [/*#__PURE__*/_jsx(InputLabel, {\n        id: \"demo-simple-select-outlined-label\",\n        children: \"Esolha seu Perfil\"\n      }), /*#__PURE__*/_jsx(Select, {\n        labelId: \"demo-simple-select-outlined-label\",\n        id: \"demo-simple-select-outlined\",\n        value: perfilUser,\n        onChange: handleChange,\n        label: \"Escolha seu Perfil\",\n        children: (_secao = secao) === null || _secao === void 0 ? void 0 : _secao.map(items => {\n          var _items$NivelUser;\n\n          return /*#__PURE__*/_jsx(MenuItem, {\n            value: items.NivelUser,\n            children: (_items$NivelUser = items.NivelUser) !== null && _items$NivelUser !== void 0 ? _items$NivelUser : items.NivelUser\n          }, items.NivelUser);\n        })\n      })]\n    });\n\n    if (secao.length > 1 && !open && perfilUser === '') setOpen(true);\n    if (secao.length === 1 && perfilUser === '') setPerfilUser(secao[0].NivelUser); // console.log('vai', secao[0].NivelUser);\n\n    if (perfilUser !== '') {\n      router.push({\n        pathname: '/userPerfil',\n        query: {\n          perfilUser\n        }\n      });\n    }\n\n    return /*#__PURE__*/_jsx(_Fragment, {\n      children: /*#__PURE__*/_jsx(Modal, {\n        open: open,\n        onClose: handleClose,\n        className: classes.modal,\n        \"aria-labelledby\": \"simple-modal-title\",\n        \"aria-describedby\": \"simple-modal-description\",\n        children: body\n      })\n    });\n  }\n\n  return /*#__PURE__*/_jsx(Box, {\n    align: \"center\",\n    justifyContent: \"center\",\n    children: /*#__PURE__*/_jsx(\"h4\", {\n      children: \"IDPB - Pregando a palavra no poder do Esp\\xEDrito Santo \"\n    })\n  });\n}\n\nexport default selectPerfil;","map":null,"metadata":{},"sourceType":"module"}