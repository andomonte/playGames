{"ast":null,"code":"import { HttpRequest } from \"@aws-sdk/protocol-http\";\nimport { S3RequestPresigner } from \"@aws-sdk/s3-request-presigner\";\nimport { parseUrl } from \"@aws-sdk/url-parser\";\nimport { Sha256 } from \"@aws-crypto/sha256-browser\";\nimport { Hash } from \"@aws-sdk/hash-node\";\nimport { formatUrl } from \"@aws-sdk/util-format-url\"; // ...\n\nvar s3ObjectUrl = parseUrl(\"https://\".concat(bucket, \".s3.\").concat(region, \".amazonaws.com/\").concat(key));\nvar presigner = new S3RequestPresigner({\n  credentials: credentials,\n  region: region,\n  sha256: Hash.bind(null, \"sha256\") // In Node.js\n  //sha256: Sha256 // In browsers\n\n}); // Create a GET request from S3 url.\n\nvar url = await presigner.presign(new HttpRequest(s3ObjectUrl));\nconsole.log(\"PRESIGNED URL: \", formatUrl(url));\nexport default uploadVideosS3;","map":{"version":3,"sources":["E:/src/next/sistemas/idpb-app/src/utils/uploadImagensS3.js"],"names":["HttpRequest","S3RequestPresigner","parseUrl","Sha256","Hash","formatUrl","s3ObjectUrl","bucket","region","key","presigner","credentials","sha256","bind","url","presign","console","log","uploadVideosS3"],"mappings":"AAAA,SAASA,WAAT,QAA4B,wBAA5B;AACA,SAASC,kBAAT,QAAmC,+BAAnC;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,MAAT,QAAuB,4BAAvB;AACA,SAASC,IAAT,QAAqB,oBAArB;AACA,SAASC,SAAT,QAA0B,0BAA1B,C,CACA;;AACA,IAAMC,WAAW,GAAGJ,QAAQ,mBAAYK,MAAZ,iBAAyBC,MAAzB,4BAAiDC,GAAjD,EAA5B;AACA,IAAMC,SAAS,GAAG,IAAIT,kBAAJ,CAAuB;AACrCU,EAAAA,WAAW,EAAXA,WADqC;AAErCH,EAAAA,MAAM,EAANA,MAFqC;AAGrCI,EAAAA,MAAM,EAAER,IAAI,CAACS,IAAL,CAAU,IAAV,EAAgB,QAAhB,CAH6B,CAGF;AACnC;;AAJqC,CAAvB,CAAlB,C,CAMA;;AACA,IAAMC,GAAG,GAAG,MAAMJ,SAAS,CAACK,OAAV,CAAkB,IAAIf,WAAJ,CAAgBM,WAAhB,CAAlB,CAAlB;AACAU,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BZ,SAAS,CAACS,GAAD,CAAxC;AAEA,eAAeI,cAAf","sourcesContent":["import { HttpRequest } from \"@aws-sdk/protocol-http\";\r\nimport { S3RequestPresigner } from \"@aws-sdk/s3-request-presigner\";\r\nimport { parseUrl } from \"@aws-sdk/url-parser\";\r\nimport { Sha256 } from \"@aws-crypto/sha256-browser\";\r\nimport { Hash } from \"@aws-sdk/hash-node\";\r\nimport { formatUrl } from \"@aws-sdk/util-format-url\";\r\n// ...\r\nconst s3ObjectUrl = parseUrl(`https://${bucket}.s3.${region}.amazonaws.com/${key}`);\r\nconst presigner = new S3RequestPresigner({\r\n    credentials,\r\n    region,\r\n    sha256: Hash.bind(null, \"sha256\"), // In Node.js\r\n    //sha256: Sha256 // In browsers\r\n});\r\n// Create a GET request from S3 url.\r\nconst url = await presigner.presign(new HttpRequest(s3ObjectUrl));\r\nconsole.log(\"PRESIGNED URL: \", formatUrl(url));\r\n\r\nexport default uploadVideosS3;\r\n"]},"metadata":{},"sourceType":"module"}