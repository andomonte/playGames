{"ast":null,"code":"import axios from 'axios';\nimport api from 'src/components/services/api';\nexport default async function download() {\n  const enviarURL = async (urlAws, file) => {\n    const dataFile = new FormData();\n    dataFile.append('file', file[0].file, file[0].name);\n    axios.get(urlAws.data, file[0].file, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(result => result).catch(error => {\n      console.log('ERROR ', error);\n      return error;\n    });\n  };\n\n  const pegarURL = async uploadedFiles => {\n    const file = uploadedFiles; // get secure url from our server\n\n    api.post('api/imagens', {\n      fileName: file[0].name,\n      fileType: file[0].type\n    }).then(response => {\n      if (response) {\n        // setTransfer(response.status);\n        // setEditar(false);\n        enviarURL(response, file);\n      } //  updateFile(uploadedFile.id, { uploaded: true });\n\n    }).catch(() => {//  updateFile(uploadedFile.id, { error: true });\n    });\n  };\n}","map":{"version":3,"sources":["E:/src/next/sistemas/idpb-app/src/utils/downloadImg.js"],"names":["axios","api","download","enviarURL","urlAws","file","dataFile","FormData","append","name","get","data","headers","then","result","catch","error","console","log","pegarURL","uploadedFiles","post","fileName","fileType","type","response"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,6BAAhB;AAEA,eAAe,eAAeC,QAAf,GAA0B;AACvC,QAAMC,SAAS,GAAG,OAAOC,MAAP,EAAeC,IAAf,KAAwB;AACxC,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBH,IAAI,CAAC,CAAD,CAAJ,CAAQA,IAAhC,EAAsCA,IAAI,CAAC,CAAD,CAAJ,CAAQI,IAA9C;AAEAT,IAAAA,KAAK,CACFU,GADH,CACON,MAAM,CAACO,IADd,EACoBN,IAAI,CAAC,CAAD,CAAJ,CAAQA,IAD5B,EACkC;AAC9BO,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AADqB,KADlC,EAMGC,IANH,CAMSC,MAAD,IAAYA,MANpB,EAOGC,KAPH,CAOUC,KAAD,IAAW;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,KAAtB;AACA,aAAOA,KAAP;AACD,KAVH;AAWD,GAfD;;AAgBA,QAAMG,QAAQ,GAAG,MAAOC,aAAP,IAAyB;AACxC,UAAMf,IAAI,GAAGe,aAAb,CADwC,CAGxC;;AACAnB,IAAAA,GAAG,CACAoB,IADH,CACQ,aADR,EACuB;AACnBC,MAAAA,QAAQ,EAAEjB,IAAI,CAAC,CAAD,CAAJ,CAAQI,IADC;AAEnBc,MAAAA,QAAQ,EAAElB,IAAI,CAAC,CAAD,CAAJ,CAAQmB;AAFC,KADvB,EAKGX,IALH,CAKSY,QAAD,IAAc;AAClB,UAAIA,QAAJ,EAAc;AACZ;AACA;AACAtB,QAAAA,SAAS,CAACsB,QAAD,EAAWpB,IAAX,CAAT;AACD,OALiB,CAMlB;;AACD,KAZH,EAaGU,KAbH,CAaS,MAAM,CACX;AACD,KAfH;AAgBD,GApBD;AAqBD","sourcesContent":["import axios from 'axios';\r\nimport api from 'src/components/services/api';\r\n\r\nexport default async function download() {\r\n  const enviarURL = async (urlAws, file) => {\r\n    const dataFile = new FormData();\r\n    dataFile.append('file', file[0].file, file[0].name);\r\n\r\n    axios\r\n      .get(urlAws.data, file[0].file, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      })\r\n      .then((result) => result)\r\n      .catch((error) => {\r\n        console.log('ERROR ', error);\r\n        return error;\r\n      });\r\n  };\r\n  const pegarURL = async (uploadedFiles) => {\r\n    const file = uploadedFiles;\r\n\r\n    // get secure url from our server\r\n    api\r\n      .post('api/imagens', {\r\n        fileName: file[0].name,\r\n        fileType: file[0].type,\r\n      })\r\n      .then((response) => {\r\n        if (response) {\r\n          // setTransfer(response.status);\r\n          // setEditar(false);\r\n          enviarURL(response, file);\r\n        }\r\n        //  updateFile(uploadedFile.id, { uploaded: true });\r\n      })\r\n      .catch(() => {\r\n        //  updateFile(uploadedFile.id, { error: true });\r\n      });\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}