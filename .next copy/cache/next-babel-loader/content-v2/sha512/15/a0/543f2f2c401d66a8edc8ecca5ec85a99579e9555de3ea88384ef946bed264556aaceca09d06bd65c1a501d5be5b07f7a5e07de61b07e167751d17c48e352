{"ast":null,"code":"import aws from 'aws-sdk';\n\nconst downloadImgS3 = () => {\n  const region = process.env.AWSREGION;\n  const bucketName = 'sistemaidpb';\n  const accessKeyId = process.env.AWSACCESS_KEY;\n  const secretAccessKey = process.env.AWSSECRET_KEY;\n  const s3 = new aws.S3({\n    region,\n    accessKeyId,\n    secretAccessKey,\n    signatureVersion: 'v4'\n  });\n  const params = {\n    Bucket: bucketName,\n    Key: 'ARACAJU.png'\n  };\n\n  const handleDownload = async () => {\n    const val = await s3.getObject(params, (err, data) => {\n      if (err) {\n        console.log(err, err.stack);\n        return err;\n      }\n\n      console.log('csvBlob:', data.Body); //  const blob = new Blob([image], {type: 'image/png'})\n      // const img = URL.createObjectURL(blob);\n\n      return data.Body;\n    });\n    return val;\n  };\n\n  handleDownload();\n};\n\nexport default downloadImgS3;","map":{"version":3,"sources":["E:/src/next/sistemas/idpb-app/src/utils/downloadImgS3.js"],"names":["aws","downloadImgS3","region","process","env","AWSREGION","bucketName","accessKeyId","AWSACCESS_KEY","secretAccessKey","AWSSECRET_KEY","s3","S3","signatureVersion","params","Bucket","Key","handleDownload","val","getObject","err","data","console","log","stack","Body"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,SAAhB;;AAEA,MAAMC,aAAa,GAAG,MAAM;AAC1B,QAAMC,MAAM,GAAGC,OAAO,CAACC,GAAR,CAAYC,SAA3B;AACA,QAAMC,UAAU,GAAG,aAAnB;AACA,QAAMC,WAAW,GAAGJ,OAAO,CAACC,GAAR,CAAYI,aAAhC;AACA,QAAMC,eAAe,GAAGN,OAAO,CAACC,GAAR,CAAYM,aAApC;AACA,QAAMC,EAAE,GAAG,IAAIX,GAAG,CAACY,EAAR,CAAW;AACpBV,IAAAA,MADoB;AAEpBK,IAAAA,WAFoB;AAGpBE,IAAAA,eAHoB;AAIpBI,IAAAA,gBAAgB,EAAE;AAJE,GAAX,CAAX;AAOA,QAAMC,MAAM,GAAG;AACbC,IAAAA,MAAM,EAAET,UADK;AAEbU,IAAAA,GAAG,EAAE;AAFQ,GAAf;;AAIA,QAAMC,cAAc,GAAG,YAAY;AACjC,UAAMC,GAAG,GAAG,MAAMP,EAAE,CAACQ,SAAH,CAAaL,MAAb,EAAqB,CAACM,GAAD,EAAMC,IAAN,KAAe;AACpD,UAAID,GAAJ,EAAS;AACPE,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAAiBA,GAAG,CAACI,KAArB;AACA,eAAOJ,GAAP;AACD;;AACDE,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,IAAI,CAACI,IAA7B,EALoD,CAMpD;AACA;;AACA,aAAOJ,IAAI,CAACI,IAAZ;AACD,KATiB,CAAlB;AAUA,WAAOP,GAAP;AACD,GAZD;;AAcAD,EAAAA,cAAc;AACf,CA/BD;;AAiCA,eAAehB,aAAf","sourcesContent":["import aws from 'aws-sdk';\r\n\r\nconst downloadImgS3 = () => {\r\n  const region = process.env.AWSREGION;\r\n  const bucketName = 'sistemaidpb';\r\n  const accessKeyId = process.env.AWSACCESS_KEY;\r\n  const secretAccessKey = process.env.AWSSECRET_KEY;\r\n  const s3 = new aws.S3({\r\n    region,\r\n    accessKeyId,\r\n    secretAccessKey,\r\n    signatureVersion: 'v4',\r\n  });\r\n\r\n  const params = {\r\n    Bucket: bucketName,\r\n    Key: 'ARACAJU.png',\r\n  };\r\n  const handleDownload = async () => {\r\n    const val = await s3.getObject(params, (err, data) => {\r\n      if (err) {\r\n        console.log(err, err.stack);\r\n        return err;\r\n      }\r\n      console.log('csvBlob:', data.Body);\r\n      //  const blob = new Blob([image], {type: 'image/png'})\r\n      // const img = URL.createObjectURL(blob);\r\n      return data.Body;\r\n    });\r\n    return val;\r\n  };\r\n\r\n  handleDownload();\r\n};\r\n\r\nexport default downloadImgS3;\r\n"]},"metadata":{},"sourceType":"module"}