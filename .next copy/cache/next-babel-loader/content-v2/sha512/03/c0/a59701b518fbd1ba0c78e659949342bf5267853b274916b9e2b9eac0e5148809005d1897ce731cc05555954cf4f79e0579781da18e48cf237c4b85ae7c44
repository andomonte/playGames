{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { Perfil } from 'src/components/perfil/index';\nimport { useSession } from 'next-auth/client'; // import { PrismaClient } from '@prisma/client';\n\nimport prisma from 'src/lib/prisma';\nimport { Convenção } from 'src/components/convencao/index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box } from '@material-ui/core';\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n}));\n\nfunction userPerfil({\n  org,\n  ministros,\n  igrejas\n}) {\n  const classes = useStyles();\n  const [session] = useSession();\n  let secao = [{\n    email: ''\n  }]; // console.log(org, 'organização');\n\n  if (session) {\n    secao = org.filter(val => val.email === session.user.email); //  console.log(session.user.email);\n\n    if (secao.length === 0) {\n      return /*#__PURE__*/_jsxs(Box, {\n        mt: 5,\n        children: [/*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Box, {\n          mt: 5,\n          className: classes.root,\n          children: \"Ocorreu um Erro ao fazer o Login\"\n        }), /*#__PURE__*/_jsxs(Box, {\n          className: classes.root,\n          children: [\"email: \", session.user.email]\n        }), /*#__PURE__*/_jsx(Box, {\n          className: classes.root,\n          children: \"n\\xE3o foi cadastrado\"\n        })]\n      });\n    }\n\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [secao[0].NivelUser === 'ministro' ? /*#__PURE__*/_jsx(Perfil, {\n        item: org,\n        title: \"SISTEMA-IDPB\",\n        ministros: ministros,\n        igrejas: igrejas\n      }) : null, secao[0].NivelUser === 'convenção' ? /*#__PURE__*/_jsx(Convenção, {\n        item: org,\n        title: \"SISTEMA-IDPB\",\n        ministros: ministros,\n        igrejas: igrejas\n      }) : null]\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(\"h4\", {\n    style: {\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    children: [' ', \"IDPB - Pregando a palavra no poder do Esp\\xEDrito Santo\", ' ']\n  });\n}\n\nexport const getStaticProps = async () => {\n  // pega o valor do banco de dados\n  const posts = await prisma.user.findMany();\n  const ministros = await prisma.ministrosIDPBs.findMany();\n  const igrejas = await prisma.igrejas.findMany();\n  return {\n    props: {\n      org: JSON.parse(JSON.stringify(posts)),\n      ministros: JSON.parse(JSON.stringify(ministros)),\n      igrejas: JSON.parse(JSON.stringify(igrejas))\n    },\n    // will be passed to the page component as props\n    revalidate: 15 // faz atualizar a pagina de 15 em 15 segundo sem fazer build\n\n  };\n};\nexport default userPerfil;","map":null,"metadata":{},"sourceType":"module"}