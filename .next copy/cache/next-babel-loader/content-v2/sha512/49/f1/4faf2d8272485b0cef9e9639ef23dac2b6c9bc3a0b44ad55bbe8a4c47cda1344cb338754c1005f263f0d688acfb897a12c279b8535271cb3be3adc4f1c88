{"ast":null,"code":"export default async function download() {\n  const enviarURL = async (urlAws, file) => {\n    const dataFile = new FormData();\n    dataFile.append('file', file[0].file, file[0].name); // await axios(uploadImageRequest, configAxios)\n\n    axios.put(urlAws.data, file[0].file, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      onUploadProgress: e => {\n        const progress = Math.round(e.loaded * 100 / e.total);\n        updateFile(progress);\n      }\n    }).then(result => {\n      setTransfer(result.status);\n    }).catch(error => {\n      console.log('ERROR ', error);\n      setTransfer('Error');\n    });\n  };\n\n  const pegarURL = async uploadedFiles => {\n    const file = uploadedFiles; // get secure url from our server\n\n    api.post('api/videos', {\n      fileName: file[0].name,\n      fileType: file[0].type\n    }).then(response => {\n      if (response) {\n        // setTransfer(response.status);\n        // setEditar(false);\n        enviarURL(response, file);\n      } //  updateFile(uploadedFile.id, { uploaded: true });\n\n    }).catch(() => {//  updateFile(uploadedFile.id, { error: true });\n    });\n  };\n}","map":{"version":3,"sources":["E:/src/next/sistemas/idpb-app/src/utils/download.js"],"names":["download","enviarURL","urlAws","file","dataFile","FormData","append","name","axios","put","data","headers","onUploadProgress","e","progress","Math","round","loaded","total","updateFile","then","result","setTransfer","status","catch","error","console","log","pegarURL","uploadedFiles","api","post","fileName","fileType","type","response"],"mappings":"AAAA,eAAe,eAAeA,QAAf,GAA0B;AACvC,QAAMC,SAAS,GAAG,OAAOC,MAAP,EAAeC,IAAf,KAAwB;AACxC,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBH,IAAI,CAAC,CAAD,CAAJ,CAAQA,IAAhC,EAAsCA,IAAI,CAAC,CAAD,CAAJ,CAAQI,IAA9C,EAFwC,CAIxC;;AACAC,IAAAA,KAAK,CACFC,GADH,CACOP,MAAM,CAACQ,IADd,EACoBP,IAAI,CAAC,CAAD,CAAJ,CAAQA,IAD5B,EACkC;AAC9BQ,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OADqB;AAK9BC,MAAAA,gBAAgB,EAAGC,CAAD,IAAO;AACvB,cAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAYH,CAAC,CAACI,MAAF,GAAW,GAAZ,GAAmBJ,CAAC,CAACK,KAAhC,CAAjB;AAEAC,QAAAA,UAAU,CAACL,QAAD,CAAV;AACD;AAT6B,KADlC,EAYGM,IAZH,CAYSC,MAAD,IAAY;AAChBC,MAAAA,WAAW,CAACD,MAAM,CAACE,MAAR,CAAX;AACD,KAdH,EAeGC,KAfH,CAeUC,KAAD,IAAW;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,KAAtB;AACAH,MAAAA,WAAW,CAAC,OAAD,CAAX;AACD,KAlBH;AAmBD,GAxBD;;AAyBA,QAAMM,QAAQ,GAAG,MAAOC,aAAP,IAAyB;AACxC,UAAM1B,IAAI,GAAG0B,aAAb,CADwC,CAGxC;;AACAC,IAAAA,GAAG,CACAC,IADH,CACQ,YADR,EACsB;AAClBC,MAAAA,QAAQ,EAAE7B,IAAI,CAAC,CAAD,CAAJ,CAAQI,IADA;AAElB0B,MAAAA,QAAQ,EAAE9B,IAAI,CAAC,CAAD,CAAJ,CAAQ+B;AAFA,KADtB,EAKGd,IALH,CAKSe,QAAD,IAAc;AAClB,UAAIA,QAAJ,EAAc;AACZ;AACA;AACAlC,QAAAA,SAAS,CAACkC,QAAD,EAAWhC,IAAX,CAAT;AACD,OALiB,CAMlB;;AACD,KAZH,EAaGqB,KAbH,CAaS,MAAM,CACX;AACD,KAfH;AAgBD,GApBD;AAqBD","sourcesContent":["export default async function download() {\r\n  const enviarURL = async (urlAws, file) => {\r\n    const dataFile = new FormData();\r\n    dataFile.append('file', file[0].file, file[0].name);\r\n\r\n    // await axios(uploadImageRequest, configAxios)\r\n    axios\r\n      .put(urlAws.data, file[0].file, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n\r\n        onUploadProgress: (e) => {\r\n          const progress = Math.round((e.loaded * 100) / e.total);\r\n\r\n          updateFile(progress);\r\n        },\r\n      })\r\n      .then((result) => {\r\n        setTransfer(result.status);\r\n      })\r\n      .catch((error) => {\r\n        console.log('ERROR ', error);\r\n        setTransfer('Error');\r\n      });\r\n  };\r\n  const pegarURL = async (uploadedFiles) => {\r\n    const file = uploadedFiles;\r\n\r\n    // get secure url from our server\r\n    api\r\n      .post('api/videos', {\r\n        fileName: file[0].name,\r\n        fileType: file[0].type,\r\n      })\r\n      .then((response) => {\r\n        if (response) {\r\n          // setTransfer(response.status);\r\n          // setEditar(false);\r\n          enviarURL(response, file);\r\n        }\r\n        //  updateFile(uploadedFile.id, { uploaded: true });\r\n      })\r\n      .catch(() => {\r\n        //  updateFile(uploadedFile.id, { error: true });\r\n      });\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}