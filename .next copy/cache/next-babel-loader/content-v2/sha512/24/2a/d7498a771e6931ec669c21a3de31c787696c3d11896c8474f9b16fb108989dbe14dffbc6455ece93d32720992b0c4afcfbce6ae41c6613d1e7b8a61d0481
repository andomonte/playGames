{"ast":null,"code":"import { FileSaver } from 'file-saver';\nimport api from 'src/components/services/api';\nexport default async function downloadImg(urlFile) {\n  const enviarURL = async (urlAws, file) => {\n    console.log('em downloadImg:', urlAws.data);\n    FileSaver.saveAs({\n      urlAws\n    }, 'image.jpg');\n    /* axios\r\n      .get(urlAws.data, urlFile, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      })\r\n      .then((result) => result)\r\n      .catch((error) => {\r\n        console.log('ERROR ', error);\r\n        return error;\r\n      }); */\n  }; // get secure url from our server\n\n\n  api.post('api/imagens', {\n    fileName: urlFile\n  }).then(response => {\n    if (response) {\n      enviarURL(response, urlFile);\n    } //  updateFile(uploadedFile.id, { uploaded: true });\n\n  }).catch(() => {\n    console.log('deu erro aqui'); //  updateFile(uploadedFile.id, { error: true });\n  });\n}","map":{"version":3,"sources":["E:/src/next/sistemas/idpb-app/src/utils/downloadImg.js"],"names":["FileSaver","api","downloadImg","urlFile","enviarURL","urlAws","file","console","log","data","saveAs","post","fileName","then","response","catch"],"mappings":"AAAA,SAASA,SAAT,QAA0B,YAA1B;AACA,OAAOC,GAAP,MAAgB,6BAAhB;AAEA,eAAe,eAAeC,WAAf,CAA2BC,OAA3B,EAAoC;AACjD,QAAMC,SAAS,GAAG,OAAOC,MAAP,EAAeC,IAAf,KAAwB;AACxCC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BH,MAAM,CAACI,IAAtC;AACAT,IAAAA,SAAS,CAACU,MAAV,CAAiB;AAAEL,MAAAA;AAAF,KAAjB,EAA6B,WAA7B;AACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACG,GAdD,CADiD,CAgBjD;;;AACAJ,EAAAA,GAAG,CACAU,IADH,CACQ,aADR,EACuB;AACnBC,IAAAA,QAAQ,EAAET;AADS,GADvB,EAIGU,IAJH,CAISC,QAAD,IAAc;AAClB,QAAIA,QAAJ,EAAc;AACZV,MAAAA,SAAS,CAACU,QAAD,EAAWX,OAAX,CAAT;AACD,KAHiB,CAIlB;;AACD,GATH,EAUGY,KAVH,CAUS,MAAM;AACXR,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EADW,CAEX;AACD,GAbH;AAcD","sourcesContent":["import { FileSaver } from 'file-saver';\r\nimport api from 'src/components/services/api';\r\n\r\nexport default async function downloadImg(urlFile) {\r\n  const enviarURL = async (urlAws, file) => {\r\n    console.log('em downloadImg:', urlAws.data);\r\n    FileSaver.saveAs({ urlAws }, 'image.jpg');\r\n    /* axios\r\n      .get(urlAws.data, urlFile, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      })\r\n      .then((result) => result)\r\n      .catch((error) => {\r\n        console.log('ERROR ', error);\r\n        return error;\r\n      }); */\r\n  };\r\n  // get secure url from our server\r\n  api\r\n    .post('api/imagens', {\r\n      fileName: urlFile,\r\n    })\r\n    .then((response) => {\r\n      if (response) {\r\n        enviarURL(response, urlFile);\r\n      }\r\n      //  updateFile(uploadedFile.id, { uploaded: true });\r\n    })\r\n    .catch(() => {\r\n      console.log('deu erro aqui');\r\n      //  updateFile(uploadedFile.id, { error: true });\r\n    });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}