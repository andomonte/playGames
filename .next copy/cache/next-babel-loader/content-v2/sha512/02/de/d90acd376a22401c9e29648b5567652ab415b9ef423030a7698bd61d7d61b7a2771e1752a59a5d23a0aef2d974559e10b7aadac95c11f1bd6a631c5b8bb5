{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"E:\\\\src\\\\next\\\\sistemas\\\\idpb-app\\\\src\\\\components\\\\relatorios\\\\userTelas\\\\graficos.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Line, Bar } from '@reactchartjs/react-chart.js';\nimport { signOut } from 'next-auth/client';\nimport useSWR from 'swr';\nimport axios from 'axios';\n\nvar fetcher = function fetcher(url) {\n  return axios.get(url).then(function (res) {\n    return res.data;\n  });\n};\n\nfunction Graficos(_ref) {\n  _s();\n\n  var item = _ref.item,\n      secao = _ref.secao,\n      Data = _ref.Data;\n  var dadosUser = item.filter(function (val) {\n    return val.email === secao.user.email;\n  });\n\n  if (dadosUser.length === 0) {\n    signOut({\n      callbackUrl: \"\".concat(window.location.origin)\n    });\n  }\n\n  var mes = String(Number(Data.slice(3, 5)));\n  var ano = Data.slice(6, 10); //  const [session] = useSession();\n\n  var url = \"\".concat(window.location.origin, \"/api/consultaDados/\").concat(item[0].codigoIgreja, \"/\").concat(mes, \"/\").concat(ano);\n  var adultos = [];\n  var crianças = [];\n  var visitantes = [];\n  var conversoes = [];\n  var ofertas = [];\n\n  var _useSWR = useSWR(url, fetcher),\n      data = _useSWR.data;\n\n  if (data) {\n    for (var i = 0; i < data.length; i += 1) {\n      adultos[data[i].semana - 1] = data[i].adultos;\n      crianças[data[i].semana - 1] = data[i].criancas;\n      visitantes[data[i].semana - 1] = data[i].visitantes;\n      conversoes[data[i].semana - 1] = data[i].conversoes;\n      ofertas[data[i].semana - 1] = data[i].ofetas; // console.log(adultos[data[i].semana]);\n    }\n  }\n\n  var dataGrafic = {\n    labels: ['Semana-1', 'Semana-2', 'Semana-3', 'Semana-4'],\n    datasets: [{\n      label: 'Adultos',\n      data: adultos,\n      fill: false,\n      backgroundColor: 'rgb(535, 09, 025)',\n      borderColor: 'rgba(255, 99, 132, 0.2)',\n      yAxisID: 'y-axis-1'\n    }, {\n      label: 'Crianças',\n      data: crianças,\n      fill: false,\n      backgroundColor: '#c6ff00',\n      borderColor: '#aeea00',\n      yAxisID: 'y-axis-1'\n    }, {\n      label: 'Visitantes',\n      data: visitantes,\n      fill: false,\n      backgroundColor: '#ffa726',\n      borderColor: '#ff9800',\n      yAxisID: 'y-axis-1'\n    }, {\n      label: 'Conversões',\n      data: conversoes,\n      fill: false,\n      backgroundColor: '#ffee58',\n      borderColor: '#ffeb3b',\n      yAxisID: 'y-axis-1'\n    }, {\n      label: 'Ofertas',\n      data: ofertas,\n      fill: false,\n      backgroundColor: 'rgb(54, 162, 235)',\n      borderColor: 'rgba(54, 162, 235, 0.2)',\n      yAxisID: 'y-axis-2'\n    }]\n  };\n  var config = {\n    type: 'bar',\n    data: {\n      datasets: [{\n        barPercentage: 0.5,\n        barThickness: 6,\n        maxBarThickness: 8,\n        minBarLength: 2,\n        data: [10, 20, 30, 40, 50, 60, 70]\n      }]\n    },\n    options: {\n      scales: {\n        y: {\n          beginAtZero: true\n        }\n      }\n    }\n  };\n  var options = {\n    scales: {\n      yAxes: [{\n        type: 'linear',\n        display: true,\n        position: 'left',\n        id: 'y-axis-1'\n      }, {\n        type: 'linear',\n        display: true,\n        position: 'right',\n        id: 'y-axis-2',\n        gridLines: {\n          drawOnArea: false\n        }\n      }]\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Line, {\n      data: dataGrafic,\n      options: options\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Graficos, \"Bw9uScf/xQBWZKhLCWSR33xISM4=\", false, function () {\n  return [useSWR];\n});\n\n_c = Graficos;\nexport default Graficos;\n\nvar _c;\n\n$RefreshReg$(_c, \"Graficos\");","map":{"version":3,"sources":["E:/src/next/sistemas/idpb-app/src/components/relatorios/userTelas/graficos.js"],"names":["React","Line","Bar","signOut","useSWR","axios","fetcher","url","get","then","res","data","Graficos","item","secao","Data","dadosUser","filter","val","email","user","length","callbackUrl","window","location","origin","mes","String","Number","slice","ano","codigoIgreja","adultos","crianças","visitantes","conversoes","ofertas","i","semana","criancas","ofetas","dataGrafic","labels","datasets","label","fill","backgroundColor","borderColor","yAxisID","config","type","barPercentage","barThickness","maxBarThickness","minBarLength","options","scales","y","beginAtZero","yAxes","display","position","id","gridLines","drawOnArea"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Line, Bar } from '@reactchartjs/react-chart.js';\r\nimport { signOut } from 'next-auth/client';\r\nimport useSWR from 'swr';\r\nimport axios from 'axios';\r\n\r\nconst fetcher = (url) => axios.get(url).then((res) => res.data);\r\nfunction Graficos({ item, secao, Data }) {\r\n  const dadosUser = item.filter((val) => val.email === secao.user.email);\r\n  if (dadosUser.length === 0) {\r\n    signOut({\r\n      callbackUrl: `${window.location.origin}`,\r\n    });\r\n  }\r\n  const mes = String(Number(Data.slice(3, 5)));\r\n  const ano = Data.slice(6, 10);\r\n  //  const [session] = useSession();\r\n  const url = `${window.location.origin}/api/consultaDados/${item[0].codigoIgreja}/${mes}/${ano}`;\r\n  const adultos = [];\r\n  const crianças = [];\r\n  const visitantes = [];\r\n  const conversoes = [];\r\n  const ofertas = [];\r\n\r\n  const { data } = useSWR(url, fetcher);\r\n  if (data) {\r\n    for (let i = 0; i < data.length; i += 1) {\r\n      adultos[data[i].semana - 1] = data[i].adultos;\r\n      crianças[data[i].semana - 1] = data[i].criancas;\r\n      visitantes[data[i].semana - 1] = data[i].visitantes;\r\n      conversoes[data[i].semana - 1] = data[i].conversoes;\r\n      ofertas[data[i].semana - 1] = data[i].ofetas;\r\n      // console.log(adultos[data[i].semana]);\r\n    }\r\n  }\r\n\r\n  const dataGrafic = {\r\n    labels: ['Semana-1', 'Semana-2', 'Semana-3', 'Semana-4'],\r\n    datasets: [\r\n      {\r\n        label: 'Adultos',\r\n        data: adultos,\r\n        fill: false,\r\n        backgroundColor: 'rgb(535, 09, 025)',\r\n        borderColor: 'rgba(255, 99, 132, 0.2)',\r\n        yAxisID: 'y-axis-1',\r\n      },\r\n      {\r\n        label: 'Crianças',\r\n        data: crianças,\r\n        fill: false,\r\n        backgroundColor: '#c6ff00',\r\n        borderColor: '#aeea00',\r\n        yAxisID: 'y-axis-1',\r\n      },\r\n      {\r\n        label: 'Visitantes',\r\n        data: visitantes,\r\n        fill: false,\r\n        backgroundColor: '#ffa726',\r\n        borderColor: '#ff9800',\r\n        yAxisID: 'y-axis-1',\r\n      },\r\n      {\r\n        label: 'Conversões',\r\n        data: conversoes,\r\n        fill: false,\r\n        backgroundColor: '#ffee58',\r\n        borderColor: '#ffeb3b',\r\n        yAxisID: 'y-axis-1',\r\n      },\r\n      {\r\n        label: 'Ofertas',\r\n        data: ofertas,\r\n        fill: false,\r\n        backgroundColor: 'rgb(54, 162, 235)',\r\n        borderColor: 'rgba(54, 162, 235, 0.2)',\r\n        yAxisID: 'y-axis-2',\r\n      },\r\n    ],\r\n  };\r\n  const config = {\r\n    type: 'bar',\r\n    data: {\r\n      datasets: [\r\n        {\r\n          barPercentage: 0.5,\r\n          barThickness: 6,\r\n          maxBarThickness: 8,\r\n          minBarLength: 2,\r\n          data: [10, 20, 30, 40, 50, 60, 70],\r\n        },\r\n      ],\r\n    },\r\n    options: {\r\n      scales: {\r\n        y: {\r\n          beginAtZero: true,\r\n        },\r\n      },\r\n    },\r\n  };\r\n\r\n  const options = {\r\n    scales: {\r\n      yAxes: [\r\n        {\r\n          type: 'linear',\r\n          display: true,\r\n          position: 'left',\r\n          id: 'y-axis-1',\r\n        },\r\n        {\r\n          type: 'linear',\r\n          display: true,\r\n          position: 'right',\r\n          id: 'y-axis-2',\r\n          gridLines: {\r\n            drawOnArea: false,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  };\r\n  return (\r\n    <>\r\n      <Line data={dataGrafic} options={options} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Graficos;\r\n"]},"metadata":{},"sourceType":"module"}