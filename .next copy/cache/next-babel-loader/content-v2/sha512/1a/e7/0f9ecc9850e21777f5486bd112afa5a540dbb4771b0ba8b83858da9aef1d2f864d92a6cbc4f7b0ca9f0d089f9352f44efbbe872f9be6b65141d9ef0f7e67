{"ast":null,"code":"import prisma from 'src/lib/prisma';\nexport default async function handle(req, res) {\n  // id = req;\n  const {\n    query: {\n      codigoIgreja,\n      dataEvento\n    }\n  } = req; // console.log('dados do api', codigoIgreja, mes, ano);\n  // const action = `${rel}.findMany`\n\n  const dia = dataEvento.slice(0, 2);\n  const mes = dataEvento.slice(2, 4);\n  const ano = dataEvento.slice(4, 8);\n  const dvFinal = `${dia}/${mes}/${ano}`;\n  console.log(dvFinal);\n  const posts = await prisma.Eventos.findMany({\n    where: {\n      AND: [{\n        codigoIgreja\n      }, {\n        dataEvento: dvFinal\n      }]\n    }\n  }); //  console.log(posts);\n\n  res.statuCode = 200;\n  res.setHeader('Content-Type', 'aplication/json'); //  res.end(JSON.stringify({ posts }));\n\n  res.json(posts);\n}","map":{"version":3,"sources":["E:/src/next/sistemas/idpb-app/src/pages/api/consultaEventos/[codigoIgreja]/[dataEvento].js"],"names":["prisma","handle","req","res","query","codigoIgreja","dataEvento","dia","slice","mes","ano","dvFinal","console","log","posts","Eventos","findMany","where","AND","statuCode","setHeader","json"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,gBAAnB;AAEA,eAAe,eAAeC,MAAf,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC7C;AACA,QAAM;AACJC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,YAAF;AAAgBC,MAAAA;AAAhB;AADH,MAEFJ,GAFJ,CAF6C,CAK7C;AACA;;AACA,QAAMK,GAAG,GAAGD,UAAU,CAACE,KAAX,CAAiB,CAAjB,EAAoB,CAApB,CAAZ;AACA,QAAMC,GAAG,GAAGH,UAAU,CAACE,KAAX,CAAiB,CAAjB,EAAoB,CAApB,CAAZ;AACA,QAAME,GAAG,GAAGJ,UAAU,CAACE,KAAX,CAAiB,CAAjB,EAAoB,CAApB,CAAZ;AACA,QAAMG,OAAO,GAAI,GAAEJ,GAAI,IAAGE,GAAI,IAAGC,GAAI,EAArC;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACA,QAAMG,KAAK,GAAG,MAAMd,MAAM,CAACe,OAAP,CAAeC,QAAf,CAAwB;AAC1CC,IAAAA,KAAK,EAAE;AACLC,MAAAA,GAAG,EAAE,CAAC;AAAEb,QAAAA;AAAF,OAAD,EAAmB;AAAEC,QAAAA,UAAU,EAAEK;AAAd,OAAnB;AADA;AADmC,GAAxB,CAApB,CAZ6C,CAiB7C;;AACAR,EAAAA,GAAG,CAACgB,SAAJ,GAAgB,GAAhB;AACAhB,EAAAA,GAAG,CAACiB,SAAJ,CAAc,cAAd,EAA8B,iBAA9B,EAnB6C,CAoB7C;;AACAjB,EAAAA,GAAG,CAACkB,IAAJ,CAASP,KAAT;AACD","sourcesContent":["import prisma from 'src/lib/prisma';\r\n\r\nexport default async function handle(req, res) {\r\n  // id = req;\r\n  const {\r\n    query: { codigoIgreja, dataEvento },\r\n  } = req;\r\n  // console.log('dados do api', codigoIgreja, mes, ano);\r\n  // const action = `${rel}.findMany`\r\n  const dia = dataEvento.slice(0, 2);\r\n  const mes = dataEvento.slice(2, 4);\r\n  const ano = dataEvento.slice(4, 8);\r\n  const dvFinal = `${dia}/${mes}/${ano}`;\r\n  console.log(dvFinal);\r\n  const posts = await prisma.Eventos.findMany({\r\n    where: {\r\n      AND: [{ codigoIgreja }, { dataEvento: dvFinal }],\r\n    },\r\n  });\r\n  //  console.log(posts);\r\n  res.statuCode = 200;\r\n  res.setHeader('Content-Type', 'aplication/json');\r\n  //  res.end(JSON.stringify({ posts }));\r\n  res.json(posts);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}