{"ast":null,"code":"// db.js\nimport mysql from 'serverless-mysql';\nconst db = mysql.config({\n  host: process.env.MYSQL_HOST,\n  port: process.env.MYSQL_PORT,\n  database: process.env.MYSQL_DATABASE,\n  user: process.env.MYSQL_USER,\n  password: process.env.MYSQL_PASSWORD\n});\nexport default async function excuteQuery({\n  query\n}) {\n  await mysql.connect();\n\n  try {\n    const results = await db.query(query);\n    await db.end();\n    return results;\n  } catch (error) {\n    return {\n      error\n    };\n  }\n}","map":{"version":3,"sources":["E:/src/next/sistemas/idpb-app/src/utils/mysql.js"],"names":["mysql","db","config","host","process","env","MYSQL_HOST","port","MYSQL_PORT","database","MYSQL_DATABASE","user","MYSQL_USER","password","MYSQL_PASSWORD","excuteQuery","query","connect","results","end","error"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,kBAAlB;AAEA,MAAMC,EAAE,GAAGD,KAAK,CAACE,MAAN,CAAa;AACtBC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,UADI;AAEtBC,EAAAA,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG,UAFI;AAGtBC,EAAAA,QAAQ,EAAEL,OAAO,CAACC,GAAR,CAAYK,cAHA;AAItBC,EAAAA,IAAI,EAAEP,OAAO,CAACC,GAAR,CAAYO,UAJI;AAKtBC,EAAAA,QAAQ,EAAET,OAAO,CAACC,GAAR,CAAYS;AALA,CAAb,CAAX;AAOA,eAAe,eAAeC,WAAf,CAA2B;AAAEC,EAAAA;AAAF,CAA3B,EAAsC;AACnD,QAAMhB,KAAK,CAACiB,OAAN,EAAN;;AACA,MAAI;AACF,UAAMC,OAAO,GAAG,MAAMjB,EAAE,CAACe,KAAH,CAASA,KAAT,CAAtB;AACA,UAAMf,EAAE,CAACkB,GAAH,EAAN;AACA,WAAOD,OAAP;AACD,GAJD,CAIE,OAAOE,KAAP,EAAc;AACd,WAAO;AAAEA,MAAAA;AAAF,KAAP;AACD;AACF","sourcesContent":["// db.js\r\nimport mysql from 'serverless-mysql';\r\n\r\nconst db = mysql.config({\r\n  host: process.env.MYSQL_HOST,\r\n  port: process.env.MYSQL_PORT,\r\n  database: process.env.MYSQL_DATABASE,\r\n  user: process.env.MYSQL_USER,\r\n  password: process.env.MYSQL_PASSWORD,\r\n});\r\nexport default async function excuteQuery({ query }) {\r\n  await mysql.connect();\r\n  try {\r\n    const results = await db.query(query);\r\n    await db.end();\r\n    return results;\r\n  } catch (error) {\r\n    return { error };\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}