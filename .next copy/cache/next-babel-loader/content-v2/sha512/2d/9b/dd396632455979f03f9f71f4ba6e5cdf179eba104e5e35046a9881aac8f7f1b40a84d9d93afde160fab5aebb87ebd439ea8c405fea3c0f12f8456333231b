{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"E:/src/next/sistemas/idpb-app/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"E:/src/next/sistemas/idpb-app/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"E:/src/next/sistemas/idpb-app/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"E:/src/next/sistemas/idpb-app/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"E:\\\\src\\\\next\\\\sistemas\\\\idpb-app\\\\src\\\\components\\\\idpbNacional\\\\pesquisa\\\\igreja.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\n// Display posts in frontend (in /pages/index.tsx)\nimport React from 'react';\nimport useSWR from 'swr';\nimport fetch from 'unfetch';\nimport { Box } from '@material-ui/core';\nimport { makeStyles, useState } from '@material-ui/core/styles';\nimport SearchBar from './searchBar';\nimport SearchList from './searchList';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    input: _defineProperty({\n      marginLeft: 18,\n      marginRight: 18,\n      marginTop: 4\n    }, theme.breakpoints.down('md'), {\n      marginLeft: 4,\n      marginRight: 4,\n      marginTop: 4\n    })\n  };\n});\n\nvar fetcher = function fetcher(url) {\n  return fetch(url).then(function (r) {\n    return r.json();\n  });\n};\n\nvar SearchPage = function SearchPage() {\n  _s();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      input = _useState2[0],\n      setInput = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchListDefault = _useState4[0],\n      setSearchListDefault = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      searchList = _useState6[0],\n      setSearchList = _useState6[1];\n\n  var updateInput = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var filtered;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              filtered = searchListDefault.filter(function (search) {\n                return search.name.toLowerCase().includes(input.toLowerCase());\n              });\n              setInput(input);\n              setSearchList(filtered);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function updateInput() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var classes = useStyles();\n\n  var _useSWR = useSWR('/api/consultaDados', fetcher),\n      data = _useSWR.data,\n      error = _useSWR.error;\n\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"An error occured.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 21\n  }, _this);\n  if (!data) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading ...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 21\n  }, _this);\n  setSearchList(data);\n  setSearchListDefault(data);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: classes.input,\n    children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n      input: input,\n      onChange: updateInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(SearchList, {\n      countryList: searchList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(SearchPage, \"k+0D1SKZevAGOPDWvCSp9iE9S7g=\", false, function () {\n  return [useStyles, useSWR];\n});\n\n_c = SearchPage;\nexport default SearchPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"sources":["E:/src/next/sistemas/idpb-app/src/components/idpbNacional/pesquisa/igreja.js"],"names":["React","useSWR","fetch","Box","makeStyles","useState","SearchBar","SearchList","useStyles","theme","input","marginLeft","marginRight","marginTop","breakpoints","down","fetcher","url","then","r","json","SearchPage","setInput","searchListDefault","setSearchListDefault","searchList","setSearchList","updateInput","filtered","filter","search","name","toLowerCase","includes","classes","data","error"],"mappings":";;;;;;;;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,KAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,GAAT,QAAoB,mBAApB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,0BAArC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,IAAMC,SAAS,GAAGJ,UAAU,CAAC,UAACK,KAAD;AAAA,SAAY;AACvCC,IAAAA,KAAK;AACHC,MAAAA,UAAU,EAAE,EADT;AAEHC,MAAAA,WAAW,EAAE,EAFV;AAGHC,MAAAA,SAAS,EAAE;AAHR,OAIFJ,KAAK,CAACK,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAJE,EAI6B;AAC9BJ,MAAAA,UAAU,EAAE,CADkB;AAE9BC,MAAAA,WAAW,EAAE,CAFiB;AAG9BC,MAAAA,SAAS,EAAE;AAHmB,KAJ7B;AADkC,GAAZ;AAAA,CAAD,CAA5B;;AAaA,IAAMG,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD;AAAA,SAASf,KAAK,CAACe,GAAD,CAAL,CAAWC,IAAX,CAAgB,UAACC,CAAD;AAAA,WAAOA,CAAC,CAACC,IAAF,EAAP;AAAA,GAAhB,CAAT;AAAA,CAAhB;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AAAA;;AAAA,kBACGhB,QAAQ,CAAC,EAAD,CADX;AAAA;AAAA,MAChBK,KADgB;AAAA,MACTY,QADS;;AAAA,mBAE2BjB,QAAQ,EAFnC;AAAA;AAAA,MAEhBkB,iBAFgB;AAAA,MAEGC,oBAFH;;AAAA,mBAGanB,QAAQ,EAHrB;AAAA;AAAA,MAGhBoB,UAHgB;AAAA,MAGJC,aAHI;;AAKvB,MAAMC,WAAW;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACZC,cAAAA,QADY,GACDL,iBAAiB,CAACM,MAAlB,CAAyB,UAACC,MAAD;AAAA,uBACxCA,MAAM,CAACC,IAAP,CAAYC,WAAZ,GAA0BC,QAA1B,CAAmCvB,KAAK,CAACsB,WAAN,EAAnC,CADwC;AAAA,eAAzB,CADC;AAIlBV,cAAAA,QAAQ,CAACZ,KAAD,CAAR;AACAgB,cAAAA,aAAa,CAACE,QAAD,CAAb;;AALkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXD,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAQA,MAAMO,OAAO,GAAG1B,SAAS,EAAzB;;AAbuB,gBAcCP,MAAM,CAAC,oBAAD,EAAuBe,OAAvB,CAdP;AAAA,MAcfmB,IAde,WAcfA,IAde;AAAA,MAcTC,KAdS,WAcTA,KAdS;;AAevB,MAAIA,KAAJ,EAAW,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AACX,MAAI,CAACD,IAAL,EAAW,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AACXT,EAAAA,aAAa,CAACS,IAAD,CAAb;AACAX,EAAAA,oBAAoB,CAACW,IAAD,CAApB;AAEA,sBACE,QAAC,GAAD;AAAK,IAAA,SAAS,EAAED,OAAO,CAACxB,KAAxB;AAAA,4BACE,QAAC,SAAD;AAAW,MAAA,KAAK,EAAEA,KAAlB;AAAyB,MAAA,QAAQ,EAAEiB;AAAnC;AAAA;AAAA;AAAA;AAAA,aADF,eAEE,QAAC,UAAD;AAAY,MAAA,WAAW,EAAEF;AAAzB;AAAA;AAAA;AAAA;AAAA,aAFF;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AAMD,CA1BD;;GAAMJ,U;UAaYb,S,EACQP,M;;;KAdpBoB,U;AA4BN,eAAeA,UAAf","sourcesContent":["// Display posts in frontend (in /pages/index.tsx)\r\nimport React from 'react';\r\nimport useSWR from 'swr';\r\nimport fetch from 'unfetch';\r\nimport { Box } from '@material-ui/core';\r\nimport { makeStyles, useState } from '@material-ui/core/styles';\r\nimport SearchBar from './searchBar';\r\nimport SearchList from './searchList';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  input: {\r\n    marginLeft: 18,\r\n    marginRight: 18,\r\n    marginTop: 4,\r\n    [theme.breakpoints.down('md')]: {\r\n      marginLeft: 4,\r\n      marginRight: 4,\r\n      marginTop: 4,\r\n    },\r\n  },\r\n}));\r\n\r\nconst fetcher = (url) => fetch(url).then((r) => r.json());\r\n\r\nconst SearchPage = () => {\r\n  const [input, setInput] = useState('');\r\n  const [searchListDefault, setSearchListDefault] = useState();\r\n  const [searchList, setSearchList] = useState();\r\n\r\n  const updateInput = async () => {\r\n    const filtered = searchListDefault.filter((search) =>\r\n      search.name.toLowerCase().includes(input.toLowerCase()),\r\n    );\r\n    setInput(input);\r\n    setSearchList(filtered);\r\n  };\r\n\r\n  const classes = useStyles();\r\n  const { data, error } = useSWR('/api/consultaDados', fetcher);\r\n  if (error) return <div>An error occured.</div>;\r\n  if (!data) return <div>Loading ...</div>;\r\n  setSearchList(data);\r\n  setSearchListDefault(data);\r\n\r\n  return (\r\n    <Box className={classes.input}>\r\n      <SearchBar input={input} onChange={updateInput} />\r\n      <SearchList countryList={searchList} />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default SearchPage;\r\n"]},"metadata":{},"sourceType":"module"}