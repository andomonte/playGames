{"ast":null,"code":"import prisma from 'src/lib/prisma';\nexport default async function handle(req, res) {\n  // id = req;\n  const {\n    query: {\n      codigoIgreja,\n      mes,\n      ano\n    }\n  } = req;\n  console.log('dados do api', codigoIgreja, mes, ano); // const action = `${rel}.findMany`\n\n  const posts = await prisma.relatorios.findMany({\n    where: {\n      AND: [{\n        codigoIgreja: {\n          codigoIgreja\n        }\n      }, {\n        mes: {\n          mes\n        }\n      }, {\n        ano: {\n          ano\n        }\n      }]\n    }\n  });\n  res.statuCode = 200;\n  res.setHeader('Content-Type', 'aplication/json'); //  res.end(JSON.stringify({ posts }));\n\n  res.json(posts);\n}","map":{"version":3,"sources":["E:/src/next/sistemas/idpb-app/src/pages/api/consultaDados/[codigoIgreja]/[mes]/[ano].js"],"names":["prisma","handle","req","res","query","codigoIgreja","mes","ano","console","log","posts","relatorios","findMany","where","AND","statuCode","setHeader","json"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,gBAAnB;AAEA,eAAe,eAAeC,MAAf,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC7C;AACA,QAAM;AACJC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,YAAF;AAAgBC,MAAAA,GAAhB;AAAqBC,MAAAA;AAArB;AADH,MAEFL,GAFJ;AAGAM,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BJ,YAA5B,EAA0CC,GAA1C,EAA+CC,GAA/C,EAL6C,CAM7C;;AACA,QAAMG,KAAK,GAAG,MAAMV,MAAM,CAACW,UAAP,CAAkBC,QAAlB,CAA2B;AAC7CC,IAAAA,KAAK,EAAE;AACLC,MAAAA,GAAG,EAAE,CACH;AAAET,QAAAA,YAAY,EAAE;AAAEA,UAAAA;AAAF;AAAhB,OADG,EAEH;AAAEC,QAAAA,GAAG,EAAE;AAAEA,UAAAA;AAAF;AAAP,OAFG,EAGH;AAAEC,QAAAA,GAAG,EAAE;AAAEA,UAAAA;AAAF;AAAP,OAHG;AADA;AADsC,GAA3B,CAApB;AASAJ,EAAAA,GAAG,CAACY,SAAJ,GAAgB,GAAhB;AACAZ,EAAAA,GAAG,CAACa,SAAJ,CAAc,cAAd,EAA8B,iBAA9B,EAjB6C,CAkB7C;;AACAb,EAAAA,GAAG,CAACc,IAAJ,CAASP,KAAT;AACD","sourcesContent":["import prisma from 'src/lib/prisma';\r\n\r\nexport default async function handle(req, res) {\r\n  // id = req;\r\n  const {\r\n    query: { codigoIgreja, mes, ano },\r\n  } = req;\r\n  console.log('dados do api', codigoIgreja, mes, ano);\r\n  // const action = `${rel}.findMany`\r\n  const posts = await prisma.relatorios.findMany({\r\n    where: {\r\n      AND: [\r\n        { codigoIgreja: { codigoIgreja } },\r\n        { mes: { mes } },\r\n        { ano: { ano } },\r\n      ],\r\n    },\r\n  });\r\n  res.statuCode = 200;\r\n  res.setHeader('Content-Type', 'aplication/json');\r\n  //  res.end(JSON.stringify({ posts }));\r\n  res.json(posts);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}