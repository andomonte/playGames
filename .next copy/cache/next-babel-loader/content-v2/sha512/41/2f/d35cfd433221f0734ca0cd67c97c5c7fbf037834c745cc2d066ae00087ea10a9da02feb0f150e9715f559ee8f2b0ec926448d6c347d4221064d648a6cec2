{"ast":null,"code":"import _regeneratorRuntime from \"E:/src/next/sistemas/idpb-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"E:/src/next/sistemas/idpb-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n// db.js\nimport mysql from 'mysq';\nvar db = mysql({\n  config: {\n    host: process.env.MYSQL_HOST,\n    port: process.env.MYSQL_PORT,\n    database: process.env.MYSQL_DATABASE,\n    user: process.env.MYSQL_USER,\n    password: process.env.MYSQL_PASSWORD\n  }\n});\nexport default function excuteQuery(_x) {\n  return _excuteQuery.apply(this, arguments);\n}\n\nfunction _excuteQuery() {\n  _excuteQuery = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var query, results;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref.query;\n            _context.prev = 1;\n            _context.next = 4;\n            return db.query(query);\n\n          case 4:\n            results = _context.sent;\n            _context.next = 7;\n            return db.end();\n\n          case 7:\n            return _context.abrupt(\"return\", results);\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](1);\n            return _context.abrupt(\"return\", {\n              error: _context.t0\n            });\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 10]]);\n  }));\n  return _excuteQuery.apply(this, arguments);\n}","map":{"version":3,"sources":["E:/src/next/sistemas/idpb-app/src/utils/mysql.js"],"names":["mysql","db","config","host","process","env","MYSQL_HOST","port","MYSQL_PORT","database","MYSQL_DATABASE","user","MYSQL_USER","password","MYSQL_PASSWORD","excuteQuery","query","results","end","error"],"mappings":";;AAAA;AACA,OAAOA,KAAP,MAAkB,MAAlB;AAEA,IAAMC,EAAE,GAAGD,KAAK,CAAC;AACfE,EAAAA,MAAM,EAAE;AACNC,IAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,UADZ;AAENC,IAAAA,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG,UAFZ;AAGNC,IAAAA,QAAQ,EAAEL,OAAO,CAACC,GAAR,CAAYK,cAHhB;AAINC,IAAAA,IAAI,EAAEP,OAAO,CAACC,GAAR,CAAYO,UAJZ;AAKNC,IAAAA,QAAQ,EAAET,OAAO,CAACC,GAAR,CAAYS;AALhB;AADO,CAAD,CAAhB;AASA,wBAA8BC,WAA9B;AAAA;AAAA;;;0EAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6BC,YAAAA,KAA7B,QAA6BA,KAA7B;AAAA;AAAA;AAAA,mBAEWf,EAAE,CAACe,KAAH,CAASA,KAAT,CAFX;;AAAA;AAELC,YAAAA,OAFK;AAAA;AAAA,mBAGLhB,EAAE,CAACiB,GAAH,EAHK;;AAAA;AAAA,6CAIJD,OAJI;;AAAA;AAAA;AAAA;AAAA,6CAMJ;AAAEE,cAAAA,KAAK;AAAP,aANI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["// db.js\r\nimport mysql from 'mysq';\r\n\r\nconst db = mysql({\r\n  config: {\r\n    host: process.env.MYSQL_HOST,\r\n    port: process.env.MYSQL_PORT,\r\n    database: process.env.MYSQL_DATABASE,\r\n    user: process.env.MYSQL_USER,\r\n    password: process.env.MYSQL_PASSWORD,\r\n  },\r\n});\r\nexport default async function excuteQuery({ query }) {\r\n  try {\r\n    const results = await db.query(query);\r\n    await db.end();\r\n    return results;\r\n  } catch (error) {\r\n    return { error };\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}